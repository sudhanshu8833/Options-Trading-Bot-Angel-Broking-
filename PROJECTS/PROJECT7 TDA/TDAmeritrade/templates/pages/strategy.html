<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>TD Amderitrade TradingBot</title>
  <meta name="description" content="Admin, Dashboard, Bootstrap, Bootstrap 4, Angular, AngularJS" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  {% load static %}
  <!-- for ios 7 style, multi-resolution icon of 152x152 -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-barstyle" content="black-translucent">
  <link rel="apple-touch-icon" href="{% static 'user/assets/images/logo.png' %}">
  <meta name="apple-mobile-web-app-title" content="Flatkit">
  <!-- for Chrome on Android, multi-resolution icon of 196x196 -->
  <meta name="mobile-web-app-capable" content="yes">
  {% comment %}<link rel="shortcut icon" sizes="196x196" href="{% static 'user/assets/images/logo.png' %}">{% endcomment %}
  {% comment %}<link rel="icon" type="image/png" href="{% static 'landingpage/icon/favicon-32x32.png' %}" sizes="32x32">
  <link rel="apple-touch-icon" href="{% static 'landingpage/icon/favicon-32x32.png' %}">{% endcomment %}
  <!-- style -->
  <link rel="stylesheet" href="{% static 'user/assets/animate.css/animate.min.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static 'user/assets/glyphicons/glyphicons.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static 'user/assets/font-awesome/css/font-awesome.min.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static 'user/assets/material-design-icons/material-design-icons.css' %}" type="text/css" />

  <link rel="stylesheet" href="{% static 'user/assets/bootstrap/dist/css/bootstrap.min.css' %}" type="text/css" />
  <!-- build:css ../assets/styles/app.min.css -->
  <link rel="stylesheet" href="{% static 'user/assets/styles/app.css' %}" type="text/css" />
  <!-- endbuild -->
  <link rel="stylesheet" href="{% static 'user/assets/styles/font.css' %}" type="text/css" />
  {% comment %}<link rel="stylesheet" type="text/css" href="{% static 'user/libs/jquery/footable/css/footable.core.css' %}"  />{% endcomment %}
</head>
<body class="dark">
  <div class="app" id="app">

<!-- ############ LAYOUT START-->

  <!-- aside -->
  {% include 'pages/aside.html' %}
  <!-- / -->

  <!-- content -->
  <div id="content" class="app-content box-shadow-z0" role="main">
    <div class="app-header white box-shadow">
        <div class="navbar navbar-toggleable-sm flex-row align-items-center">

            <a data-toggle="modal" data-target="#aside" class="hidden-lg-up mr-3">
              <i class="material-icons">&#xe5d2;</i>
            </a>
            <div class="mb-0 h5 no-wrap" ng-bind="$state.current.data.title" id="pageTitle"></div>

            <!-- navbar collapse -->
            <div class="collapse navbar-collapse" id="collapse">

              <ul class="nav navbar-nav mr-auto">
                <li class="nav-item dropdown">
                    <h3 style="margin-bottom: 0px">Strategy</h3>
                </li>
              </ul>
              <div ui-include="{% static 'user/views/blocks/navbar.form.html' %}"></div>
              <!-- / -->
            </div>

        </div>
    </div>
    <div class="app-footer">
      <div class="p-2 text-xs">
        <div class="pull-right text-muted py-1">
          &copy; <strong>TD Ameritrade TradingBot</strong>
        </div>
      </div>
    </div>
    <div ui-view class="app-body" id="view">

<!-- ############ PAGE START-->
    <div class="padding">
      {% include 'pages/message.html' %}
        <div class="row">
            <div class="col-sm-12">
                <div class="box">
                    <div class="box-header">
                        <h2>Strategy List</h2>
                    </div>
                    <div class="m-0" style="border-bottom: 3px solid rgba(120, 130, 140, 0.13)"></div>
                    <div class="box-body">
                        <form action="" method="post">{% csrf_token %}
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="b-b b-primary nav-active-primary">
                                    <ul class="nav nav-tabs">
                                        <li class="nav-item">
                                            <a class="nav-link active" href data-toggle="tab" data-target="#tab1">All Strategy</a>
                                        </li>
                                        <li class="nav-item dropdown" style="position: absolute; right: 70px">
                                            {% comment %}<a class="nav-link" href data-toggle="modal" data-target="#add_strategy">
                                                <i class="fa fa-fw fa-plus text-muted"></i>
                                                <span>Add Strategy</span>
                                            </a>{% endcomment %}
                                            <a class="nav-link" data-toggle="dropdown">
                                                <i class="fa fa-fw fa-plus text-muted"></i>
                                                <span>Add Strategy</span>
                                            </a>
                                            <div class="dropdown-menu pull-right dark">
                                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#add_strategy_entry_1_form">Part 1 for Entry</a>
                                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#add_strategy_entry_2_form">Part 2 for Entry</a>
                                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#add_strategy_entry_3_form">Part 3 for Entry</a>
                                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#add_strategy_close_1_form">Part 1 for Close</a>
                                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#add_strategy_close_2_form">Part 2 for Close</a>
                                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#add_strategy_close_3_form">Part 3 for Close</a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="tab-content p-a m-b-md">
                                    <div class="tab-pane active" id="tab1">
                                        <div class="box">
                                            <div class="box-body">
                                                Search: <input id="filter" type="text" class="form-control input-sm w-auto inline m-r"/>
                                            </div>
                                            <div>
                                                <table class="table table-bordered {% comment %}m-b-none{% endcomment %}" ui-jp="footable" data-filter="#filter" data-page-size="10">
                                                    <thead>
                                                        <tr>
                                                            <th>Name</th>
                                                            <th>Base</th>
                                                            <th>Position</th>
                                                            <th>Content</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% if strategy_list %}
                                                        {% for strategy in strategy_list %}
                                                        <tr>
                                                            <td>{{ strategy.name }}</td>
                                                            <td>Part {{ strategy.part }}</td>
                                                            <td>{{ strategy.position }}</td>
                                                            <td>
                                                            {% if strategy.part == "2" %}
                                                                Timeframe: {{ strategy.content.timeframe }}<br/>
                                                                Condition: <br/>
                                                                {% for item in strategy.content.condition %}
                                                                    {{ item }}<br/>
                                                                {% endfor %}
                                                            {% else %}
                                                                {% for item in strategy.content %}
                                                                    {{ item }}
                                                                    <br/>
                                                                {% endfor %}
                                                            {% endif %}

                                                                {% comment %}{{ strategy.content }}{% endcomment %}</td>
                                                            <td>
                                                                {% comment %}<a class="label info" href="#" onclick="edit_strategy({{ strategy.id }})">Edit</a>{% endcomment %}
                                                                <a class="label danger" href="{% url 'delete_strategy' strategy.id %}">Delete</a>
                                                            </td>
                                                        </tr>
                                                        {% endfor %}
                                                    {% endif %}

                                                    </tbody>
                                                    <tfoot class="hide-if-no-paging">
                                                        <tr>
                                                            <td colspan="5" class="text-center">
                                                                <ul class="pagination"></ul>
                                                            </td>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- .modal -->
{% comment %}<div id="edit_strategy" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <div class="col-sm-12 row"  >
                <div class="col-sm-6">
                    <h3 class="modal-title">Edit Security</h3>
                </div>
                <div class="col-sm-6 text-lg-right m-m">
                    <a class="text-info " href="{% url 'strategy' %}"><h6>Back</h6></a>
                </div>
            </div>
        </div>
        <div class="modal-body p-lg">
          <form id="edit_security_form" method="post">{% csrf_token %}
            <input type="hidden" id="edit_id" name="edit_id">
      <!--   Security Name  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label" style="text-align: right">Security Name</label>
              <div class="col-sm-8">
                <input type="text" id="edit_security_name" name="edit_security_name" class="form-control"  required/>
              </div>
            </div>
      <!--  Security Type  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label" style="text-align: right">Security Type</label>
              <div class="col-sm-8">
                <select required name="edit_security_type" id="edit_security_type" style="background-color: rgb(72,87,103);" class="form-control">
                    <option value=""></option>
                    <option value="STOCK">Stock</option>
                    <option value="CFD">CFD</option>
                    <option value="CFD_INDEX">CFD Index</option>
                    <option value="FOREX">Forex</option>
                </select>
              </div>
            </div>
      <!--  Expire Date -->
            <div class="form-group row">
                <label class="col-sm-4 form-control-label" style="text-align: right">Expire Date</label>
                <div class="col-sm-8">
                    <div class="form-group">
                                                        <div class='input-group date' ui-jp="datetimepicker" ui-options="{
                                                            format: 'YYYY-M-D',
                                                                icons: {
                                                                    time: 'fa fa-clock-o',
                                                                    date: 'fa fa-calendar',
                                                                    up: 'fa fa-chevron-up',
                                                                    down: 'fa fa-chevron-down',
                                                                    previous: 'fa fa-chevron-left',
                                                                    next: 'fa fa-chevron-right',
                                                                    today: 'fa fa-screenshot',
                                                                    clear: 'fa fa-trash',
                                                                    close: 'fa fa-remove'
                                                                }
                                                        }">
                                                            <input type='text' class="form-control" name="edit_expire_date" id="edit_expire_date" required/>
                                                            <span class="input-group-addon">
                                                                <span class="fa fa-calendar"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                </div>
            </div>
      <!--  Number of Bars  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label text-right">Number of Bars</label>
              <div class="col-sm-8">
                <input type="text" id="edit_bar_size" name="edit_bar_size" class="form-control"  required/>
              </div>
            </div>
      <!--  Long Min  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label m-m" style="text-align: right">Long Min</label>
              <div class="range-slider col-sm-8">
                <input class="range-slider__range" id="edit_long_min1" name="edit_long_min1" value="" type="range" min="0" max="95"/>
                <span id="edit_long_min2" name="edit_long_min2" class="range-slider__value"></span>
              </div>
            </div>
      <!--  Long Max  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label m-m" style="text-align: right">Long Max</label>
              <div class="range-slider col-sm-8">
                <input class="range-slider__range" id="edit_long_max1" name="edit_long_max1" type="range" value="0" min="0" max="95"/>
                <span id="edit_long_max2" name="edit_long_max2" class="range-slider__value">0</span>
              </div>
            </div>
      <!--  Short Min  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label m-m" style="text-align: right">Short Min</label>
              <div class="range-slider col-sm-8">
                <input class="range-slider__range" id="edit_short_min1" name="edit_short_min1" type="range" value="0" min="0" max="95"/>
                <span id="edit_short_min2" name="edit_short_min2" class="range-slider__value">0</span>
              </div>
            </div>
      <!--  Short Max  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label m-m" style="text-align: right">Short Max</label>
              <div class="range-slider col-sm-8">
                <input class="range-slider__range" id="edit_short_max1" name="edit_short_max1" type="range" value="0" min="0" max="95"/>
                <span id="edit_short_max2" name="edit_short_max2" class="range-slider__value">0</span>
              </div>
            </div>
      <!--  Symbols -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label" style="text-align: right">Symbols</label>
              <div class="col-sm-8">

                  <select id='edit_symbol_list' multiple>
                  </select>
              </div>
            </div>
      <!--  Button  -->
            <div class="modal-footer">
              <button type="button" class="btn white p-x-md" style="background-color: #2e3e4e" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn white p-x-md" style="background-color: #2e3e4e" >Update</button>

            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
<div id="add_strategy" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form action="{% url 'add_strategy' %}" id="add_security_form" enctype="multipart/form-data" method="post">{% csrf_token %}
      <!--   Strategy Name  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-8">
                <input type="text" id="strategy_name" name="strategy_name" class="form-control"  required/>
              </div>
            </div>
      <!--  Strategy Type -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label" style="text-align: right">Strategy</label>
              <div class="col-sm-8">
                <select required name="strategy" id="strategy" style="background-color: rgb(72,87,103);" class="form-control">
                    <option value="dema_cross">Double EMA Cross</option>
                </select>
              </div>
            </div>
      <!--  Strategy Content  -->
            <div class="form-group" id="dema_cross_strategy">
                <div class="form-group row">
                    <label class="col-sm-4 form-control-label" style="text-align: right">Short Period</label>
                    <div class="col-sm-8">
                        <input type="text" id="dema_short_period" name="dema_short_period" class="form-control" required/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-4 form-control-label" style="text-align: right">Long Period</label>
                    <div class="col-sm-8">
                        <input type="text" id="dema_long_period" name="dema_long_period" class="form-control" required/>
                    </div>
                </div>
            </div>
      <!--  Position Close Time  -->
            <div class="form-group row">
                <label class="col-sm-4 form-control-label" style="text-align: right">Position Close</label>
                <div class="col-sm-8">
                    <div class="form-group">
                        <div class='input-group date' ui-jp="datetimepicker" ui-options="{
                            format: 'LT',
                            icons: {
                                time: 'fa fa-clock-o',
                                date: 'fa fa-calendar',
                                up: 'fa fa-chevron-up',
                                down: 'fa fa-chevron-down',
                                previous: 'fa fa-chevron-left',
                                next: 'fa fa-chevron-right',
                                today: 'fa fa-screenshot',
                                clear: 'fa fa-trash',
                                close: 'fa fa-remove'
                            }
                        }">
                        <input type='text' class="form-control" name="position_close" id="position_close"/>
                        <span class="input-group-addon">
                            <span class="fa fa-calendar"></span>
                        </span>
                        </div>
                    </div>
                </div>
            </div>
      <!--  Short Min  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label m-m" style="text-align: right">Short Min</label>
              <div class="range-slider col-sm-8">
                <input class="range-slider__range" id="short_min1" name="short_min1" type="range" value="0" min="0" max="95"/>
                <span id="short_min2" name="short_min2" class="range-slider__value">0</span>
              </div>
            </div>
      <!--  Short Max  -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label m-m" style="text-align: right">Short Max</label>
              <div class="range-slider col-sm-8">
                <input class="range-slider__range" id="short_max1" name="short_max1" type="range" value="0" min="0" max="95"/>
                <span id="short_max2" name="short_max2" class="range-slider__value">0</span>
              </div>
            </div>
      <!--  Symbols -->
            <div class="form-group row">
              <label class="col-sm-4 form-control-label" style="text-align: right">Symbols</label>
              <div class="col-sm-8">
                  <select id='symbol_list' name="symbol_list" multiple>
                  </select>
              </div>
            </div>
      <!--  Button  -->
            <div class="modal-footer">
              <button type="button" class="btn white p-x-md" style="background-color: #2e3e4e" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn white p-x-md" style="background-color: #2e3e4e" >Create</button>

            </div>
          </form>
        </div>
      </div>
    </div>
  </div>{% endcomment %}

<div id="add_strategy_entry_1_form" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form id="add_strategy_1_entry" method="post">{% csrf_token %}
      <!--   Name  -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-9">
                <input type="text" id="new_strategy_1_entry_name" name="new_strategy_entry_name" class="form-control"  required/>
              </div>
            </div>
    <!--   Cross Above Group   -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-primary" > Cross</h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center text-info" style="width: 14%">Timeframe</th>
                        <th class="text-center text-primary" style="width: 14%">Indicator</th>
                        <th class="text-center text-primary" style="width: 14%">Period</th>
                        <th class="text-center text-info" style="width: 14%">Condition</th>
                        <th class="text-center text-primary" style="width: 14%">Indicator</th>
                        <th class="text-center text-primary" style="width: 14%">Period</th>
                        <th class="text-center text-danger" style="width: 15%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_1_entry_table">

                </tbody>
            </table>



      <!--  Button  -->
            <div class="modal-footer">
                <p class="text-danger" id="add_strategy_entry_1_error"></p>
                <button id="add_strategy_1_entry_condition" type="button" class="btn btn-fw primary">Add Cross</button>
                {% comment %}<button id="add_strategy_1_below_condition" type="button" class="btn btn-fw danger">Add Cross Below</button>{% endcomment %}
                <button type="submit" class="btn btn-fw info">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>

<div id="add_strategy_entry_2_form" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form id="add_strategy_2_entry" method="post">{% csrf_token %}
      <!--   Name  -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-9">
                <input type="text" id="new_strategy_2_entry_name" name="new_strategy_2_entry_name" class="form-control"  required/>
              </div>
            </div>
      {% comment %}<!-- Timeframe -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Timeframe</label>
              <div class="col-sm-9">
                <select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control">
                    <option value="5m">5 Minutes</option>
                    <option value="10m">10 Minutes</option>
                    <option value="15m">15 Minutes</option>
                    <option value="30m">30 Minutes</option>
                    <option value="1h">1 Hour</option>
                    <option value="2h">2 Hours</option>
                    <option value="4h">4 Hours</option>
                </select>
              </div>
            </div>{% endcomment %}
    <!--  Multi Timeframe  -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-accent" > Multi Timeframe</h5>
            </div>
      <!--  Multiple Timeframe List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 50%">Time frame</th>

                        <th class="text-center" style="width: 50%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_2_entry_timeframe_table">

                </tbody>
            </table>
    <!--   Cross Above Group   -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-primary" > Cross </h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center text-primary" style="width: 17%">Indicator</th>
                        <th class="text-center text-primary" style="width: 17%">Period</th>
                        <th class="text-center text-info" style="width: 17%">Condition</th>
                        <th class="text-center text-primary" style="width: 17%">Indicator</th>
                        <th class="text-center text-primary" style="width: 17%">Period</th>
                        <th class="text-center text-danger" style="width: 15%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_2_entry_table">

                </tbody>
            </table>

    {% comment %}<!--   Cross Below Group   -->
            <div>
              <hr class="h-m-primary">
              <h5 class="s-p-primary text-danger" > Cross Below</h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 17%">Condition</th>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 15%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_2_cross_below_table">

                </tbody>
            </table>{% endcomment %}

      <!--  Button  -->
            <div class="modal-footer">
                <p class="text-danger" id="add_strategy_entry_2_error"></p>
                <button id="add_strategy_2_entry_timeframe" type="button" class="btn btn-fw accent">Add Timeframe</button>
                <button id="add_strategy_2_entry_condition" type="button" class="btn btn-fw primary">Add Cross</button>
                {% comment %}<button id="add_strategy_2_below_condition" type="button" class="btn btn-fw danger">Add Cross Below</button>{% endcomment %}
                <button type="submit" class="btn btn-fw info">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>

<div id="add_strategy_entry_3_form" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog modal-lg"  style="max-width: 1200px">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form id="add_strategy_3_entry" method="post">{% csrf_token %}
      <!--   Name  -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-9">
                <input type="text" id="new_strategy_3_entry_name" name="new_strategy_3_entry_name" class="form-control"  required/>
              </div>
            </div>
    <!--   Cross Above Group   -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-primary" > Cross</h5>
            </div>
      <!--  Cross Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center text-info" style="width: 8%">Timeframe</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-info" style="width: 7%">Condition</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-info" style="width: 7%">Operator</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-info" style="width: 7%">Condition</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-danger" style="width: 7%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_3_entry_table">

                </tbody>
            </table>

    {% comment %}<!--   Cross Below Group   -->
            <div>
              <hr class="h-m-primary">
              <h5 class="s-p-primary text-danger" > Open Short</h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 10%">Indicator</th>
                        <th class="text-center" style="width: 7%">Period</th>
                        <th class="text-center" style="width: 8%">Condition</th>
                        <th class="text-center" style="width: 10%">Indicator</th>
                        <th class="text-center" style="width: 7%">Period</th>
                        <th class="text-center" style="width: 8%">Operator</th>
                        <th class="text-center" style="width: 10%">Indicator</th>
                        <th class="text-center" style="width: 7%">Period</th>
                        <th class="text-center" style="width: 8%">Condition</th>
                        <th class="text-center" style="width: 10%">Indicator</th>
                        <th class="text-center" style="width: 7%">Period</th>
                        <th class="text-center" style="width: 8%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_3_open_short_table">

                </tbody>
            </table>{% endcomment %}

      <!--  Button  -->
            <div class="modal-footer">
                <p class="text-danger" id="add_strategy_entry_3_error"></p>
                <button id="add_strategy_3_entry_condition" type="button" class="btn btn-fw primary">Add Cross</button>
                {% comment %}<button id="add_strategy_3_short_condition" type="button" class="btn btn-fw danger">Add Open Short</button>{% endcomment %}
                <button id="add_new_strategy" type="submit" class="btn btn-fw info">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>

<div id="add_strategy_close_1_form" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog modal-lg" style="max-width: 1200px">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form id="add_strategy_1_close" method="post">{% csrf_token %}
      <!--   Name  -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-9">
                <input type="text" id="new_strategy_1_close_name" name="new_strategy_1_close_name" class="form-control"  required/>
              </div>
            </div>
    <!--   Cross Above Group   -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-primary" > Cross</h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center text-info" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Timeframe</th>
                        <th class="text-center text-primary" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Indicator</th>
                        <th class="text-center text-primary" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Period</th>
                        <th class="text-center text-info" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Condition</th>
                        <th class="text-center text-primary" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Indicator</th>
                        <th class="text-center text-primary" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Period</th>
                        <th class="text-center text-info" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Operator</th>
                        <th class="text-center text-primary" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Indicator</th>
                        <th class="text-center text-primary" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Period</th>
                        <th class="text-center text-info" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Condition</th>
                        <th class="text-center text-primary" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Indicator</th>
                        <th class="text-center text-primary" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Period</th>
                        <th class="text-center text-info" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Operator</th>
                        <th class="text-center text-primary" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Indicator</th>
                        <th class="text-center text-primary" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Period</th>
                        <th class="text-center text-info" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Condition</th>
                        <th class="text-center text-primary" style="width: 6%;padding-left: 3px!important; padding-right: 3px!important">Indicator</th>
                        <th class="text-center text-primary" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Period</th>
                        <th class="text-center text-danger" style="width: 5%;padding-left: 3px!important; padding-right: 3px!important">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_1_close_table">

                </tbody>
            </table>

    {% comment %}<!--   Cross Below Group   -->
            <div>
              <hr class="h-m-primary">
              <h5 class="s-p-primary text-danger" > Cross Below</h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 17%">Condition</th>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 15%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_1_cross_below_table">

                </tbody>
            </table>{% endcomment %}

      <!--  Button  -->
            <div class="modal-footer">
                <p class="text-danger" id="add_strategy_close_1_error"></p>
                <button id="add_strategy_1_close_condition" type="button" class="btn btn-fw primary">Add Cross</button>
                {% comment %}<button id="add_strategy_1_below_condition" type="button" class="btn btn-fw danger">Add Cross Below</button>{% endcomment %}
                <button type="submit" class="btn btn-fw info">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>

<div id="add_strategy_close_2_form" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form id="add_strategy_2_close" method="post">{% csrf_token %}
      <!--   Name  -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-9">
                <input type="text" id="new_strategy_2_close_name" name="new_strategy_2_close_name" class="form-control"  required/>
              </div>
            </div>
      {% comment %}<!-- Timeframe -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Timeframe</label>
              <div class="col-sm-9">
                <select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control">
                    <option value="5m">5 Minutes</option>
                    <option value="10m">10 Minutes</option>
                    <option value="15m">15 Minutes</option>
                    <option value="30m">30 Minutes</option>
                    <option value="1h">1 Hour</option>
                    <option value="2h">2 Hours</option>
                    <option value="4h">4 Hours</option>
                </select>
              </div>
            </div>{% endcomment %}
    <!--  Multi Timeframe  -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-accent" > Multi Timeframe</h5>
            </div>
      <!--  Multiple Timeframe List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 50%">Time frame</th>

                        <th class="text-center" style="width: 50%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_2_close_timeframe_table">

                </tbody>
            </table>
    <!--   Cross Above Group   -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-primary" > Cross </h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 17%">Condition</th>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 15%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_2_close_table">

                </tbody>
            </table>

    {% comment %}<!--   Cross Below Group   -->
            <div>
              <hr class="h-m-primary">
              <h5 class="s-p-primary text-danger" > Cross Below</h5>
            </div>
      <!--  Cross above Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 17%">Condition</th>
                        <th class="text-center" style="width: 17%">Indicator</th>
                        <th class="text-center" style="width: 17%">Period</th>
                        <th class="text-center" style="width: 15%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_2_cross_below_table">

                </tbody>
            </table>{% endcomment %}

      <!--  Button  -->
            <div class="modal-footer">
                <p class="text-danger" id="add_strategy_close_2_error"></p>
                <button id="add_strategy_2_close_timeframe" type="button" class="btn btn-fw accent">Add Timeframe</button>
                <button id="add_strategy_2_close_condition" type="button" class="btn btn-fw primary">Add Cross</button>
                {% comment %}<button id="add_strategy_2_below_condition" type="button" class="btn btn-fw danger">Add Cross Below</button>{% endcomment %}
                <button id="add_new_strategy" type="submit" class="btn btn-fw info">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>

<div id="add_strategy_close_3_form" class="modal black-overlay" data-backdrop="true">
    <div class="modal-dialog modal-lg"  style="max-width: 1200px">
      <div class="modal-content box-shadow-md black lt m-b">
        <div class="modal-header">
      	  <h5 class="modal-title">Create Strategy</h5>
        </div>
        <div class="modal-body p-lg">
          <form id="add_strategy_3_close" method="post">{% csrf_token %}
      <!--   Name  -->
            <div class="form-group row">
              <label class="col-sm-3 form-control-label" style="text-align: right">Strategy Name</label>
              <div class="col-sm-9">
                <input type="text" id="new_strategy_3_close_name" name="new_strategy_3_close_name" class="form-control"  required/>
              </div>
            </div>
    <!--   Cross Group   -->
            <div>
              <hr class="h-m-primary">
                <h5 class="s-p-primary text-primary" > Cross</h5>
            </div>
      <!--  Cross Condition List -->
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="text-center text-info" style="width: 8%">Timeframe</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-info" style="width: 7%">Condition</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-info" style="width: 7%">Operator</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-info" style="width: 7%">Condition</th>
                        <th class="text-center text-primary" style="width: 9%">Indicator</th>
                        <th class="text-center text-primary" style="width: 7%">Period</th>
                        <th class="text-center text-danger" style="width: 7%">Action</th>
                    </tr>
                </thead>
                <tbody  id="new_strategy_3_close_table">

                </tbody>
            </table>



      <!--  Button  -->
            <div class="modal-footer">
                <p class="text-danger" id="add_strategy_close_3_error"></p>
                <button id="add_strategy_3_close_condition" type="button" class="btn btn-fw primary">Add Cross</button>
                {% comment %}<button id="add_strategy_3_short_condition" type="button" class="btn btn-fw danger">Add Open Short</button>{% endcomment %}
                <button type="submit" class="btn btn-fw info">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>
<!-- / .modal -->

{% comment %}<input type="hidden" id="stock_list" value="{{ stock_list }}"/>
<input type="hidden" id="cfd_list" value="{{ cfd_list }}"/>
<input type="hidden" id="cfd_index_list" value="{{ cfd_index_list }}"/>
<input type="hidden" id="forex_list" value="{{ forex_list }}"/>{% endcomment %}
<!-- ############ PAGE END-->

    </div>
  </div>

  </div>

<!-- build:js scripts/app.html.js -->
<!-- jQuery -->
  <script src="{% static 'user/libs/jquery/jquery/dist/jquery.js' %}"></script>
<!-- Bootstrap -->
  <script src="{% static 'user/libs/jquery/tether/dist/js/tether.min.js' %}"></script>
  <script src="{% static 'user/libs/jquery/bootstrap/dist/js/bootstrap.js' %}"></script>
<!-- core -->
  <script src="{% static 'user/libs/jquery/underscore/underscore-min.js' %}"></script>
  <script src="{% static 'user/libs/jquery/jQuery-Storage-API/jquery.storageapi.min.js' %}"></script>
  <script src="{% static 'user/libs/jquery/PACE/pace.min.js' %}"></script>

  <script src="{% static 'user/scripts/config.lazyload.js' %}"></script>

  <script src="{% static 'user/scripts/palette.js' %}"></script>
  <script src="{% static 'user/scripts/ui-load.js' %}"></script>
  <script src="{% static 'user/scripts/ui-jp.js' %}"></script>
  <script src="{% static 'user/scripts/ui-include.js' %}"></script>
  <script src="{% static 'user/scripts/ui-device.js' %}"></script>
  <script src="{% static 'user/scripts/ui-form.js' %}"></script>
  <script src="{% static 'user/scripts/ui-nav.js' %}"></script>
  <script src="{% static 'user/scripts/ui-screenfull.js' %}"></script>
  <script src="{% static 'user/scripts/ui-scroll-to.js' %}"></script>
  <script src="{% static 'user/scripts/ui-toggle-class.js' %}"></script>

  <script src="{% static 'user/scripts/app.js' %}"></script>

  <!-- ajax -->
  <script src="{% static 'user/libs/jquery/jquery-pjax/jquery.pjax.js' %}"></script>
  <script src="{% static 'user/scripts/ajax.js' %}"></script>
<!-- endbuild -->

  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
<script>
$(document).ready(function(){
    $('#add_strategy_1_entry_condition').on('click', function (e) {
       e.preventDefault();
       var indicator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="M_EMA">M_EMA</option>\n' +
           '                    <option value="M_SMA">M_SMA</option>\n' +
           '                    <option value="RSI_EMA">RSI_EMA</option>\n' +
           '                    <option value="RSI_SMA">RSI_SMA</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var indicator_temp1 = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="SMA">SMA</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var condition_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="Above">Above</option>\n' +
           '                    <option value="Below">Below</option>\n' +
           '                    <option value="Upper">Upper</option>\n' +
           '                    <option value="Under">Under</option>\n' +
           '                </select>';
       var timeframe_temp = '<select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="1m">1M</option>\n' +
           '                    <option value="5m">5M</option>\n' +
           '                    <option value="15m">15M</option>\n' +
           '                    <option value="30m">30M</option>\n' +
           '                    <option value="1h">1H</option>\n' +
           '                    <option value="4h">4H</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + timeframe_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
           '                        <td class="text-center"><a class="label danger" href="#" >Delete</a></td>\n' +
           '                    </tr>';
       $('#new_strategy_1_entry_table').append(temp);
    });

    $('#new_strategy_1_entry_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

    $('#add_strategy_2_entry_condition').on('click', function (e) {
       e.preventDefault();
       var indicator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="M_EMA">M_EMA</option>\n' +
           '                    <option value="M_SMA">M_SMA</option>\n' +
           '                    <option value="RSI_EMA">RSI_EMA</option>\n' +
           '                    <option value="RSI_SMA">RSI_SMA</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var indicator_temp1 = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="SMA">SMA</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var condition_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="Above">Above</option>\n' +
           '                    <option value="Below">Below</option>\n' +
           '                    <option value="Upper">Upper</option>\n' +
           '                    <option value="Under">Under</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center"><a class="label danger" href="#" >Delete</a></td>\n' +
            '                    </tr>';
       $('#new_strategy_2_entry_table').append(temp);
    });

    $('#new_strategy_2_entry_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

    $('#add_strategy_2_entry_timeframe').on('click', function (e) {
       e.preventDefault();
       var timeframe_temp = '<select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="1m">1 Minute</option>\n' +
           '                    <option value="5m">5 Minutes</option>\n' +
           '                    <option value="15m">15 Minutes</option>\n' +
           '                    <option value="30m">30 Minutes</option>\n' +
           '                    <option value="1h">1 Hour</option>\n' +
           '                    <option value="4h">4 Hours</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
            '                        <td class="text-center">' + timeframe_temp + '</td>\n' +
            '                        <td class="text-center"><a class="label danger" href="#" >Delete</a></td>\n' +
            '                    </tr>';
       $('#new_strategy_2_entry_timeframe_table').append(temp);
    });

    $('#new_strategy_2_entry_timeframe_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

    $('#add_strategy_3_entry_condition').on('click', function (e) {
       e.preventDefault();
       var indicator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="M_EMA">M_EMA</option>\n' +
           '                    <option value="M_SMA">M_SMA</option>\n' +
           '                    <option value="RSI_EMA">RSI_EMA</option>\n' +
           '                    <option value="RSI_SMA">RSI_SMA</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var indicator_temp1 = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="SMA">SMA</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var condition_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="Above">Above</option>\n' +
           '                    <option value="Below">Below</option>\n' +
           '                    <option value="Upper">Upper</option>\n' +
           '                    <option value="Under">Under</option>\n' +
           '                </select>';
       var operator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="and">AND</option>\n' +
           '                    <option value="or">OR</option>\n' +
           '                </select>';
       var timeframe_temp = '<select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="1m">1M</option>\n' +
           '                    <option value="5m">5M</option>\n' +
           '                    <option value="15m">15M</option>\n' +
           '                    <option value="30m">30M</option>\n' +
           '                    <option value="1h">1H</option>\n' +
           '                    <option value="4h">4H</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + timeframe_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + operator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
           '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><a class="label danger" href="#" >Delete</a></td>\n' +
           '                    </tr>';
       $('#new_strategy_3_entry_table').append(temp);
    });

    $('#new_strategy_3_entry_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

    $('#add_strategy_1_close_condition').on('click', function (e) {
       e.preventDefault();
       var indicator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="M_EMA">M_EMA</option>\n' +
           '                    <option value="M_SMA">M_SMA</option>\n' +
           '                    <option value="RSI_EMA">RSI_EMA</option>\n' +
           '                    <option value="RSI_SMA">RSI_SMA</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var indicator_temp1 = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="SMA">SMA</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var condition_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="Above">Above</option>\n' +
           '                    <option value="Below">Below</option>\n' +
           '                    <option value="Upper">Upper</option>\n' +
           '                    <option value="Under">Under</option>\n' +
           '                </select>';
       var operator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="and">AND</option>\n' +
           '                    <option value="or">OR</option>\n' +
           '                </select>';
       var timeframe_temp = '<select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="1m">1M</option>\n' +
           '                    <option value="5m">5M</option>\n' +
           '                    <option value="15m">15M</option>\n' +
           '                    <option value="30m">30M</option>\n' +
           '                    <option value="1h">1H</option>\n' +
           '                    <option value="4h">4H</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + timeframe_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + operator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm"/></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm"/></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + operator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm"/></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm"/></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><a class="label danger" href="#" >Delete</a></td>\n' +
            '                    </tr>';
       $('#new_strategy_1_close_table').append(temp);
    });

    $('#new_strategy_1_close_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

    $('#add_strategy_2_close_condition').on('click', function (e) {
       e.preventDefault();
       var indicator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="M_EMA">M_EMA</option>\n' +
           '                    <option value="M_SMA">M_SMA</option>\n' +
           '                    <option value="RSI_EMA">RSI_EMA</option>\n' +
           '                    <option value="RSI_SMA">RSI_SMA</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var indicator_temp1 = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="SMA">SMA</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var condition_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="Above">Above</option>\n' +
           '                    <option value="Below">Below</option>\n' +
           '                    <option value="Upper">Upper</option>\n' +
           '                    <option value="Under">Under</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
            '                        <td class="text-center">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center">' + condition_temp + '</td>\n' +
            '                        <td class="text-center">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center"><a class="label danger" href="#" >Delete</a></td>\n' +
            '                    </tr>';
       $('#new_strategy_2_close_table').append(temp);
    });

    $('#new_strategy_2_close_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

	$('#add_strategy_2_close_timeframe').on('click', function (e) {
       e.preventDefault();
       var timeframe_temp = '<select required name="new_strategy_2_tiemframe" id="new_strategy_2_timeframe" style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="1m">1 Minute</option>\n' +
           '                    <option value="5m">5 Minutes</option>\n' +
           '                    <option value="15m">15 Minutes</option>\n' +
           '                    <option value="30m">30 Minutes</option>\n' +
           '                    <option value="1h">1 Hour</option>\n' +
           '                    <option value="4h">4 Hours</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
            '                        <td class="text-center">' + timeframe_temp + '</td>\n' +
            '                        <td class="text-center"><a class="label danger" href="#" >Delete</a></td>\n' +
            '                    </tr>';
       $('#new_strategy_2_close_timeframe_table').append(temp);
    });

    $('#new_strategy_2_close_timeframe_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });

    $('#add_strategy_3_close_condition').on('click', function (e) {
       e.preventDefault();
       var indicator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="M_EMA">M_EMA</option>\n' +
           '                    <option value="M_SMA">M_SMA</option>\n' +
           '                    <option value="RSI_EMA">RSI_EMA</option>\n' +
           '                    <option value="RSI_SMA">RSI_SMA</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var indicator_temp1 = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="RSI">RSI</option>\n' +
           '                    <option value="SMA">SMA</option>\n' +
           '                    <option value="EMA">EMA</option>\n' +
           '                    <option value="Momentum">Momentum</option>\n' +
           '                    <option value="Line">Line</option>\n' +
           '                </select>';
       var condition_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="Above">Above</option>\n' +
           '                    <option value="Below">Below</option>\n' +
           '                    <option value="Upper">Upper</option>\n' +
           '                    <option value="Under">Under</option>\n' +
           '                </select>';
       var operator_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="and">AND</option>\n' +
           '                    <option value="or">OR</option>\n' +
           '                </select>';
       var timeframe_temp = '<select required style="background-color: rgb(72,87,103);" class="form-control form-control-sm">\n' +
           '                    <option value="1m">1 Min</option>\n' +
           '                    <option value="5m">5 Min</option>\n' +
           '                    <option value="15m">15 Min</option>\n' +
           '                    <option value="30m">30 Min</option>\n' +
           '                    <option value="1h">1 H</option>\n' +
           '                    <option value="4h">4 H</option>\n' +
           '                </select>';
       var temp = '<tr>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + timeframe_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + operator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + condition_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important">' + indicator_temp + '</td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><input type="text" class="form-control form-control-sm" required /></td>\n' +
            '                        <td class="text-center" style="padding-left: 3px!important; padding-right: 3px!important"><a class="label danger" href="#" >Delete</a></td>\n' +
            '                    </tr>';
       $('#new_strategy_3_close_table').append(temp);
    });

    $('#new_strategy_3_close_table').on('click', 'a.label.danger', function (e) {
        e.preventDefault();
        $(this).closest('tr').remove();
    });


    $('#add_strategy_1_entry').on('submit', function (e) {
        e.preventDefault();
        $('#add_strategy_entry_1_error').html("");
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_1_entry_table tr').each(function () {
            var ind_list = [$('td:nth-child(2)', this).find("select option:selected").val(), $('td:nth-child(5)', this).find("select option:selected").val()]
            var period_list = [$('td:nth-child(3)', this).find("input").val(), $('td:nth-child(6)', this).find("input").val()]
            ind_list.forEach(function (item1, index1) {
                if (item1.includes("M_") || item1.includes("RSI_")) {
                    if (period_list[index1].includes(",")){
                        period_list[index1].replace(" ", "").split(",").forEach(function (value) {
                            if (isNaN(Number(value))) {
                                $("#add_strategy_entry_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                                check_strategy = false
                            }
                        });
                    }
                    else {
                        $("#add_strategy_entry_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                        check_strategy = false;
                    }
                }
            });

            temp_list.push({
                    "timeframe": $("td:first-child", this).find("select option:selected").val(),
                    "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                    "period1": $('td:nth-child(3)', this).find("input").val().replace(" ", ""),
                    "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                    "period2": $('td:nth-child(6)', this).find("input").val().replace(" ", ""),
                    "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
            });
        });

        if (check_strategy) {
            var name = $('#new_strategy_1_entry_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 1, position: "Entry", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $("#add_strategy_2_entry").on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var time_list = [];
        var check_strategy = true;
        $("#new_strategy_2_entry_timeframe_table tr").each(function () {
           time_list.push($("td", this).find("select option:selected").val());
        });

        $("#new_strategy_2_entry_table tr").each(function () {
            var ind_list = [$('td:first-child', this).find("select option:selected").val(), $('td:nth-child(4)', this).find("select option:selected").val()]
            var period_list = [$('td:nth-child(2)', this).find("input").val(), $('td:nth-child(5)', this).find("input").val()]
            ind_list.forEach(function (item1, index1) {
                if (item1.includes("M_") || item1.includes("RSI_")) {
                    if (period_list[index1].includes(",")){
                        period_list[index1].replace(" ", "").split(",").forEach(function (value) {
                            if (isNaN(Number(value))) {
                                $("#add_strategy_entry_2_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                                check_strategy = false
                            }
                        });
                    }
                    else {
                        $("#add_strategy_entry_2_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                        check_strategy = false;
                    }
                }
            });

            temp_list.push({
                    "indicator1": $("td:first-child", this).find("select option:selected").val(),
                    "period1": $("td:nth-child(2)", this).find("input").val().replace(" ", ""),
                    "indicator2": $("td:nth-child(4)", this).find("select option:selected").val(),
                    "period2": $("td:nth-child(5)", this).find("input").val().replace(" ", ""),
                    "condition1": $("td:nth-child(3)", this).find("select option:selected").val(),
                })

        }) ;

        if (check_strategy){
            var result = {
                "timeframe": time_list,
                "content": temp_list
            };
            var name = $("#new_strategy_2_entry_name").val();
                $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 2, position: "Entry", name: name, content: JSON.stringify(result), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }

    })

    $('#add_strategy_3_entry').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_3_entry_table tr').each(function () {
            var ind_list = [$('td:nth-child(2)', this).find("select option:selected").val(), $('td:nth-child(5)', this).find("select option:selected").val(), $('td:nth-child(8)', this).find("select option:selected").val(), $('td:nth-child(11)', this).find("select option:selected").val()]
            var period_list = [$('td:nth-child(3)', this).find("input").val(), $('td:nth-child(6)', this).find("input").val(), $('td:nth-child(9)', this).find("input").val(), $('td:nth-child(12)', this).find("input").val()]
            ind_list.forEach(function (item1, index1) {
                if (item1.includes("M_") || item1.includes("RSI_")) {
                    if (period_list[index1].includes(",")){
                        period_list[index1].replace(" ", "").split(",").forEach(function (value) {
                            if (isNaN(Number(value))) {
                                $("#add_strategy_entry_3_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                                check_strategy = false
                            }
                        });
                    }
                    else {
                        $("#add_strategy_entry_3_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                        check_strategy = false;
                    }
                }
            });

            temp_list.push({
                "timeframe": $("td:first-child", this).find("select option:selected").val(),
                "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                "period1": $('td:nth-child(3)', this).find("input").val().replace(" ", ""),
                "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
                "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                "period2": $('td:nth-child(6)', this).find("input").val().replace(" ", ""),
                "operator1": $('td:nth-child(7)', this).find("select option:selected").val(),
                "indicator3": $("td:nth-child(8)", this).find("select option:selected").val(),
                "period3": $('td:nth-child(9)', this).find("input").val().replace(" ", ""),
                "condition2": $('td:nth-child(10)', this).find("select option:selected").val(),
                "indicator4": $('td:nth-child(11)', this).find("select option:selected").val(),
                "period4": $('td:nth-child(12)', this).find("input").val().replace(" ", ""),
            });
        });
        if (check_strategy){
            var name = $('#new_strategy_3_entry_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 3, position: "Entry", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $('#add_strategy_1_close').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_1_close_table tr').each(function () {
            var ind_list = [$('td:nth-child(2)', this).find("select option:selected").val(), $('td:nth-child(5)', this).find("select option:selected").val(), $('td:nth-child(8)', this).find("select option:selected").val(), $('td:nth-child(11)', this).find("select option:selected").val(), $('td:nth-child(14)', this).find("select option:selected").val(), $('td:nth-child(17)', this).find("select option:selected").val()]
            var period_list = [$('td:nth-child(3)', this).find("input").val(), $('td:nth-child(6)', this).find("input").val(), $('td:nth-child(9)', this).find("input").val(), $('td:nth-child(12)', this).find("input").val(), $('td:nth-child(15)', this).find("input").val(), $('td:nth-child(18)', this).find("input").val()]
            ind_list.forEach(function (item1, index1) {
                if (item1.includes("M_") || item1.includes("RSI_")) {
                    if (period_list[index1].includes(",")) {
                        period_list[index1].replace(" ", "").split(",").forEach(function (value) {
                            if (isNaN(Number(value))) {
                                $("#add_strategy_close_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                                check_strategy = false
                            }
                        });
                    }
                    else {
                        $("#add_strategy_close_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                        check_strategy = false;
                    }
                }
            });
            if ($('td:nth-child(7)', this).find("select option:selected").val() != $('td:nth-child(13)', this).find("select option:selected").val()) {
                $("#add_strategy_close_1_error").html("There is an error in your strategy. Both Operator1 and Operator2 hava to has same value");
                check_strategy = false;
            }
            temp_list.push({
                "timeframe": $("td:first-child", this).find("select option:selected").val(),
                "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                "period1": $('td:nth-child(3)', this).find("input").val().replace(" ", ""),
                "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
                "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                "period2": $('td:nth-child(6)', this).find("input").val().replace(" ", ""),
                "operator1": $('td:nth-child(7)', this).find("select option:selected").val(),
                "indicator3": $("td:nth-child(8)", this).find("select option:selected").val(),
                "period3": $('td:nth-child(9)', this).find("input").val().replace(" ", ""),
                "condition2": $('td:nth-child(10)', this).find("select option:selected").val(),
                "indicator4": $('td:nth-child(11)', this).find("select option:selected").val(),
                "period4": $('td:nth-child(12)', this).find("input").val().replace(" ", ""),
                "operator2": $('td:nth-child(13)', this).find("select option:selected").val(),
                "indicator5": $("td:nth-child(14)", this).find("select option:selected").val(),
                "period5": $('td:nth-child(15)', this).find("input").val().replace(" ", ""),
                "condition3": $('td:nth-child(16)', this).find("select option:selected").val(),
                "indicator6": $('td:nth-child(17)', this).find("select option:selected").val(),
                "period6": $('td:nth-child(18)', this).find("input").val().replace(" ", ""),
            });
        });

        if (check_strategy) {
            var name = $('#new_strategy_1_close_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 1, position: "Close", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $("#add_strategy_2_close").on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var time_list = [];
        var check_strategy = true;
        $("#new_strategy_2_close_timeframe_table tr").each(function () {
           time_list.push($("td", this).find("select option:selected").val());
        });

        $("#new_strategy_2_close_table tr").each(function () {
            var ind_list = [$('td:first-child', this).find("select option:selected").val(), $('td:nth-child(4)', this).find("select option:selected").val()]
            var period_list = [$('td:nth-child(2)', this).find("input").val(), $('td:nth-child(5)', this).find("input").val()]
            ind_list.forEach(function (item1, index1) {
                if (item1.includes("M_") || item1.includes("RSI_")) {
                    if (period_list[index1].includes(",")) {
                        period_list[index1].replace(" ", "").split(",").forEach(function (value) {
                            if (isNaN(Number(value))) {
                                $("#add_strategy_close_2_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                                check_strategy = false
                            }
                        });
                    }
                    else {
                        $("#add_strategy_close_2_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                        check_strategy = false;
                    }
                }
            });

            temp_list.push({
                "indicator1": $("td:first-child", this).find("select option:selected").val(),
                "period1": $("td:nth-child(2)", this).find("input").val().replace(" ", ""),
                "indicator2": $("td:nth-child(4)", this).find("select option:selected").val(),
                "period2": $("td:nth-child(5)", this).find("input").val().replace(" ", ""),
                "condition1": $("td:nth-child(3)", this).find("select option:selected").val(),
            })
        });
        if (check_strategy) {
            var result = {
                "timeframe": time_list,
                "content": temp_list
            };
            var name = $("#new_strategy_2_close_name").val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 2, position: "Close", name: name, content: JSON.stringify(result), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $('#add_strategy_3_close').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_3_close_table tr').each(function () {
            var ind_list = [$('td:nth-child(2)', this).find("select option:selected").val(), $('td:nth-child(5)', this).find("select option:selected").val(), $('td:nth-child(8)', this).find("select option:selected").val(), $('td:nth-child(11)', this).find("select option:selected").val()]
            var period_list = [$('td:nth-child(3)', this).find("input").val(), $('td:nth-child(6)', this).find("input").val(), $('td:nth-child(9)', this).find("input").val(), $('td:nth-child(12)', this).find("input").val()]
            ind_list.forEach(function (item1, index1) {
                if (item1.includes("M_") || item1.includes("RSI_")) {
                    if (period_list[index1].includes(",")) {
                        period_list[index1].replace(" ", "").split(",").forEach(function (value) {
                            if (isNaN(Number(value))) {
                                $("#add_strategy_close_3_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                                check_strategy = false
                            }
                        });
                    }
                    else {
                        $("#add_strategy_close_3_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, you have to set 2 periods seperated by spot(for example, 14,8).");
                        check_strategy = false;
                    }
                }
            });

            temp_list.push({
                "timeframe": $("td:first-child", this).find("select option:selected").val(),
                "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                "period1": $('td:nth-child(3)', this).find("input").val().replace(" ", ""),
                "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
                "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                "period2": $('td:nth-child(6)', this).find("input").val().replace(" ", ""),
                "operator1": $('td:nth-child(7)', this).find("select option:selected").val(),
                "indicator3": $("td:nth-child(8)", this).find("select option:selected").val(),
                "period3": $('td:nth-child(9)', this).find("input").val().replace(" ", ""),
                "condition2": $('td:nth-child(10)', this).find("select option:selected").val(),
                "indicator4": $('td:nth-child(11)', this).find("select option:selected").val(),
                "period4": $('td:nth-child(12)', this).find("input").val().replace(" ", ""),
            });
        });

        if (check_strategy) {
            var name = $('#new_strategy_3_close_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 3, position: "Close", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });




    {% comment %}$('#add_strategy_1_entry').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_1_entry_table tr').each(function () {
            var t_ind1 = $('td:nth-child(2)', this).find("select option:selected").val();
            var t_ind2 = $('td:nth-child(5)', this).find("select option:selected").val();
            if (t_ind2.includes("M_") && t_ind1 != "Momentum"){
                $("#add_strategy_entry_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be either Momentum or RSI.")
                check_strategy = false;
            }
            else if (t_ind2.includes("RSI_") && t_ind1 != "RSI"){
                $("#add_strategy_entry_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be indicator related with them.")
                check_strategy = false;
            }
            else {
                var t_period = "";
                if ((t_ind2.includes("M_") && t_ind1 === "Momentum") ||(t_ind2.includes("RSI_") && t_ind1 === "RSI")) {
                    t_period = $('td:nth-child(3)', this).find("input").val() + "," + $('td:nth-child(6)', this).find("input").val();
                }
                else {
                    t_period = $('td:nth-child(6)', this).find("input").val();
                }
                temp_list.push({
                    "timeframe": $("td:first-child", this).find("select option:selected").val(),
                    "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                    "period1": $('td:nth-child(3)', this).find("input").val(),
                    "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                    //"period2": $('td:nth-child(6)', this).find("input").val(),
                    "period2": t_period,
                    "condition": $('td:nth-child(4)', this).find("select option:selected").val(),
                });
            }
        });
        if (check_strategy) {
            var name = $('#new_strategy_1_entry_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 1, position: "Entry", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $("#add_strategy_2_entry").on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var time_list = [];
        var check_strategy = true;
        $("#new_strategy_2_entry_timeframe_table tr").each(function () {
           time_list.push($("td", this).find("select option:selected").val());
        });

        $("#new_strategy_2_entry_table tr").each(function () {
            var t_ind1 = $("td:first-child", this).find("select option:selected").val();
            var t_ind2 = $("td:nth-child(4)", this).find("select option:selected").val();
            if ((t_ind2.includes("M_") && t_ind1 != "Momentum") || (t_ind2.includes("RSI_") && t_ind1 != "RSI")){
                $("#add_strategy_close_2_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be either Momentum or RSI.")
                check_strategy = false;
            }
            else {
                var t_period = "";
                if (((t_ind2.includes("M_") && t_ind1 === "Momentum") ||(t_ind2.includes("RSI_") && t_ind1 === "RSI"))) {
                    t_period = $('td:nth-child(2)', this).find("input").val() + "," + $('td:nth-child(5)', this).find("input").val();
                }
                else {
                    t_period = $('td:nth-child(5)', this).find("input").val();
                }
                temp_list.push({
                    "indicator1": $("td:first-child", this).find("select option:selected").val(),
                    "period1": $("td:nth-child(2)", this).find("input").val(),
                    "indicator2": $("td:nth-child(4)", this).find("select option:selected").val(),
                    //"period2": $("td:nth-child(5)", this).find("input").val(),
                    "period2:": t_period,
                    "condition": $("td:nth-child(3)", this).find("select option:selected").val(),
                })
            }

        }) ;

        if (check_strategy){
            var result = {
                "timeframe": time_list,
                "content": temp_list
            };
            var name = $("#new_strategy_2_entry_name").val();
                $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 2, position: "Entry", name: name, content: JSON.stringify(result), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }

    })

    $('#add_strategy_3_entry').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_3_entry_table tr').each(function () {
            var t_ind1 = $('td:nth-child(2)', this).find("select option:selected").val();
            var t_ind2 = $('td:nth-child(5)', this).find("select option:selected").val();
            var t_ind3 = $('td:nth-child(8)', this).find("select option:selected").val();
            var t_ind4 = $('td:nth-child(11)', this).find("select option:selected").val();

            if((t_ind2.includes("M_") && t_ind1 != "Momentum") || (t_ind4.includes("M_") && t_ind3 != "Momentum") || (t_ind2.includes("RSI_") && t_ind1 != "RSI") ||(t_ind4.includes("RSI_") && t_ind3 != "RSI")) {
                $("#add_strategy_entry_3_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be either Momentum or RSI.")
                check_strategy = false;
            }
            else {
                var t_period1 = "", t_period2 = "";
                if (((t_ind2.includes("M_") && t_ind1 === "Momentum") ||(t_ind2.includes(RSI_) && t_ind1 === "RSI"))) {
                    t_period1 = $('td:nth-child(3)', this).find("input").val() + "," + $('td:nth-child(6)', this).find("input").val();
                }
                else {
                    t_period1 = $('td:nth-child(6)', this).find("input").val();
                }

                if (((t_ind4.includes("M_") && t_ind3 === "Momentum") ||(t_ind4.includes(RSI_) && t_ind3 === "RSI"))) {
                    t_period2 = $('td:nth-child(9)', this).find("input").val() + "," + $('td:nth-child(12)', this).find("input").val();
                }
                else {
                    t_period2 = $('td:nth-child(12)', this).find("input").val();
                }

                temp_list.push({
                "timeframe": $("td:first-child", this).find("select option:selected").val(),
                "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                "period1": $('td:nth-child(3)', this).find("input").val(),
                "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
                "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                //"period2": $('td:nth-child(6)', this).find("input").val(),
                "period2": t_period1,
                "operator": $('td:nth-child(7)', this).find("select option:selected").val(),
                "indicator3": $("td:nth-child(8)", this).find("select option:selected").val(),
                "period3": $('td:nth-child(9)', this).find("input").val(),
                "condition2": $('td:nth-child(10)', this).find("select option:selected").val(),
                "indicator4": $('td:nth-child(11)', this).find("select option:selected").val(),
                //"period4": $('td:nth-child(12)', this).find("input").val(),
                    "period4" : t_period2
                });
            }
        });
        if (check_strategy){
            var name = $('#new_strategy_3_entry_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 3, position: "Entry", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $('#add_strategy_1_close').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_1_close_table tr').each(function () {
            var t_ind1 = $('td:nth-child(2)', this).find("select option:selected").val();
            var t_ind2 = $('td:nth-child(5)', this).find("select option:selected").val();
            var t_ind3 = $('td:nth-child(8)', this).find("select option:selected").val();
            var t_ind4 = $('td:nth-child(11)', this).find("select option:selected").val();
            var t_ind5 = $('td:nth-child(14)', this).find("select option:selected").val();
            var t_ind6 = $('td:nth-child(17)', this).find("select option:selected").val();

            if((t_ind2.includes("M_") && t_ind1 != "Momentum") || (t_ind4.includes("M_") && t_ind3 != "Momentum") || (t_ind6.includes("M_") && t_ind5 != "Momentum") || (t_ind2.includes("RSI_") && t_ind1 != "RSI") ||(t_ind4.includes("RSI_") && t_ind3 != "RSI") || (t_ind6.includes("RSI_") && t_ind5 != "RSI")) {
                $("#add_strategy_close_1_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be either Momentum or RSI.")
                check_strategy = false;
            }
            else {
                var t_period1 = "", t_period2 = "", t_period3 = "";
                if (((t_ind2.includes("M_") && t_ind1 === "Momentum") || (t_ind2.includes(RSI_) && t_ind1 === "RSI"))) {
                    t_period1 = $('td:nth-child(3)', this).find("input").val() + "," + $('td:nth-child(6)', this).find("input").val();
                }
                else {
                    t_period1 = $('td:nth-child(6)', this).find("input").val();
                }

                if (((t_ind4.includes("M_") && t_ind3 === "Momentum") || (t_ind4.includes(RSI_) && t_ind3 === "RSI"))) {
                    t_period2 = $('td:nth-child(9)', this).find("input").val() + "," + $('td:nth-child(12)', this).find("input").val();
                }
                else {
                    t_period2 = $('td:nth-child(12)', this).find("input").val();
                }

                if (((t_ind6.includes("M_") && t_ind5 === "Momentum") || (t_ind6.includes(RSI_) && t_ind5 === "RSI"))) {
                    t_period3 = $('td:nth-child(15)', this).find("input").val() + "," + $('td:nth-child(18)', this).find("input").val();
                }
                else {
                    t_period3 = $('td:nth-child(18)', this).find("input").val();
                }

                temp_list.push({
                    "timeframe": $("td:first-child", this).find("select option:selected").val(),
                    "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                    "period1": $('td:nth-child(3)', this).find("input").val(),
                    "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
                    "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                    //"period2": $('td:nth-child(6)', this).find("input").val(),
                    "period2": t_period1,
                    "operator1": $('td:nth-child(7)', this).find("select option:selected").val(),
                    "indicator3": $("td:nth-child(8)", this).find("select option:selected").val(),
                    "period3": $('td:nth-child(9)', this).find("input").val(),
                    "condition2": $('td:nth-child(10)', this).find("select option:selected").val(),
                    "indicator4": $('td:nth-child(11)', this).find("select option:selected").val(),
                    //"period4": $('td:nth-child(12)', this).find("input").val(),
                    "period4": t_period2,
                    "operator2": $('td:nth-child(13)', this).find("select option:selected").val(),
                    "indicator5": $("td:nth-child(14)", this).find("select option:selected").val(),
                    "period5": $('td:nth-child(15)', this).find("input").val(),
                    "condition3": $('td:nth-child(16)', this).find("select option:selected").val(),
                    "indicator6": $('td:nth-child(17)', this).find("select option:selected").val(),
                    //"period6": $('td:nth-child(18)', this).find("input").val(),
                    "period6": t_period3
                });
            }

        });
        if (check_strategy) {
            var name = $('#new_strategy_1_close_name').val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 1, position: "Close", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $("#add_strategy_2_close").on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var time_list = [];
        $("#new_strategy_2_close_timeframe_table tr").each(function () {
           time_list.push($("td", this).find("select option:selected").val());
        });

        $("#new_strategy_2_close_table tr").each(function () {
            var t_ind1 = $("td:first-child", this).find("select option:selected").val();
            var t_ind2 = $("td:nth-child(4)", this).find("select option:selected").val();
            if ((t_ind2.includes("M_") && t_ind1 != "Momentum") || (t_ind2.includes("RSI_") && t_ind1 != "RSI")){
                $("#add_strategy_close_2_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be either Momentum or RSI.")
                check_strategy = false;
            }
            else {
                var t_period = "";
                if (((t_ind2.includes("M_") && t_ind1 === "Momentum") || (t_ind2.includes("RSI_") && t_ind1 === "RSI"))) {
                    t_period = $('td:nth-child(2)', this).find("input").val() + "," + $('td:nth-child(5)', this).find("input").val();
                }
                else {
                    t_period = $('td:nth-child(5)', this).find("input").val();
                }
                temp_list.push({
                    "indicator1": $("td:first-child", this).find("select option:selected").val(),
                    "period1": $("td:nth-child(2)", this).find("input").val(),
                    "indicator2": $("td:nth-child(4)", this).find("select option:selected").val(),
                    //"period2": $("td:nth-child(5)", this).find("input").val(),
                    "period2": t_period,
                    "condition": $("td:nth-child(3)", this).find("select option:selected").val(),
                })
            }
        }) ;
        if (check_strategy) {
            var result = {
                "timeframe": time_list,
                "content": temp_list
            };
            var name = $("#new_strategy_2_close_name").val();
            $.ajax({
                method: "POST",
                url: "/add_strategy/",
                data: {part: 2, position: "Close", name: name, content: JSON.stringify(result), csrfmiddlewaretoken: csrf_token},
                success: function (result) {
                    location.reload();
                }
            });
        }
    });

    $('#add_strategy_3_close').on('submit', function (e) {
        e.preventDefault();
        var csrf_token = $('input[name=csrfmiddlewaretoken]').val();
        var temp_list = [];
        var check_strategy = true;
        $('#new_strategy_3_close_table tr').each(function () {
             var t_ind1 = $('td:nth-child(2)', this).find("select option:selected").val();
            var t_ind2 = $('td:nth-child(5)', this).find("select option:selected").val();
            var t_ind3 = $('td:nth-child(8)', this).find("select option:selected").val();
            var t_ind4 = $('td:nth-child(11)', this).find("select option:selected").val();

            if((t_ind2.includes("M_") && t_ind1 != "Momentum") || (t_ind4.includes("M_") && t_ind3 != "Momentum") || (t_ind2.includes("RSI_") && t_ind1 != "RSI") ||(t_ind4.includes("RSI_") && t_ind3 != "RSI")) {
                $("#add_strategy_close_3_error").html("There is an error in your strategy. When you select M_EMA, M_SMA, RSI_EMA, RSI_SMA, previous indicator must be either Momentum or RSI.")
                check_strategy = false;
            }
            else {
                var t_period1 = "", t_period2 = "";
                if (((t_ind2.includes("M_") && t_ind1 === "Momentum") || (t_ind2.includes(RSI_) && t_ind1 === "RSI"))) {
                    t_period1 = $('td:nth-child(3)', this).find("input").val() + "," + $('td:nth-child(6)', this).find("input").val();
                }
                else {
                    t_period1 = $('td:nth-child(6)', this).find("input").val();
                }

                if (((t_ind4.includes("M_") && t_ind3 === "Momentum") || (t_ind4.includes(RSI_) && t_ind3 === "RSI"))) {
                    t_period2 = $('td:nth-child(9)', this).find("input").val() + "," + $('td:nth-child(12)', this).find("input").val();
                }
                else {
                    t_period2 = $('td:nth-child(12)', this).find("input").val();
                }
                temp_list.push({
                    "timeframe": $("td:first-child", this).find("select option:selected").val(),
                    "indicator1": $("td:nth-child(2)", this).find("select option:selected").val(),
                    "period1": $('td:nth-child(3)', this).find("input").val(),
                    "condition1": $('td:nth-child(4)', this).find("select option:selected").val(),
                    "indicator2": $('td:nth-child(5)', this).find("select option:selected").val(),
                    //"period2": $('td:nth-child(6)', this).find("input").val(),
                    "period2": t_period1,
                    "operator": $('td:nth-child(7)', this).find("select option:selected").val(),
                    "indicator3": $("td:nth-child(8)", this).find("select option:selected").val(),
                    "period3": $('td:nth-child(9)', this).find("input").val(),
                    "condition2": $('td:nth-child(10)', this).find("select option:selected").val(),
                    "indicator4": $('td:nth-child(11)', this).find("select option:selected").val(),
                    //"period4": $('td:nth-child(12)', this).find("input").val(),
                    "period4": t_period2
                });
            }
        });
        var name = $('#new_strategy_3_close_name').val();
        $.ajax({
            method: "POST",
            url: "/add_strategy/",
            data: {part: 3, position: "Close", name: name, content: JSON.stringify(temp_list), csrfmiddlewaretoken: csrf_token},
            success: function (result) {
                location.reload();
            }
        });
    });{% endcomment %}

});
</script>
<script>
function edit_strategy(id){

}
</script>
<script>
function createChart(data_list, date_data) {

  Highcharts.stockChart('chart', {

    rangeSelector: {
      enabled: false,

    },
    exporting: {
      enabled: false
    },
    yAxis: {
      labels: {
        formatter: function () {
          //return (this.value > 0 ? ' + ' : '') + this.value + '%';
            return this.value
        },
        style: {
            color: '#000000',
            fontSize: "15px"
        },
      },
      plotLines: [{
        value: 0,
        width: 2,
        color: 'silver'
      }]
    },
    xAxis: {
      labels: {
          //enabled: false
        formatter: function(){
            return date_data[this.value];
        },
        style: {
            color: '#000000',
            fontSize: "15px"
        },
        maxStaggerLines: 3
      }
    },
    plotOptions: {
      series: {
        //compare: 'percent',
        showInNavigator: true
      }
    },

    tooltip: {
      //pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change})<br/>',
      valueDecimals: 2,
      //split: true
    },
    navigator: {
      xAxis: {
        labels: {
          formatter: function(){
            return date_data[this.value];
          },
          style: {
            color: '#000000',
            fontSize: "15px"
        },
        }
      }
    },
    series: data_list
    //series: seriesOptions
  });

}

</script>
</body>
</html>
